#!/bin/bash

echo "Updating optimizer statistics..."

while getopts "l:" OPT; do
	case ${OPT} in
	l)
		DBPORT=${OPTARG}
		;;
	esac
done

#@VACUUMDB@ -p ${DBPORT} -z ${SID}
@PSQL@ -p ${DBPORT} ${SID} -c "analyze supplier"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze part"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze partsupp"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze customer"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze orders"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze lineitem"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze nation"
@PSQL@ -p ${DBPORT} ${SID} -c "analyze region"
